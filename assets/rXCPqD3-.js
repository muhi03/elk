import{d as h,a1 as S,l as L,a2 as V,a3 as C,h as a,o as u,e as d,H as v,I as b,t as o,A as q,c as w,f as p,r as U,g as t,a4 as B,a5 as A,w as E,n as H,p as T,q as f,_ as M,G as O,x as y,v as P,Z as R}from"./vIUoIwJY.js";import{_ as j}from"./1VluCFXk.js";import{_ as z}from"./C5_5OrRM.js";import{I as x}from"./CJulTqhN.js";import{s as F}from"./CjFal9cD.js";const G=["value","selected"],Z=h({__name:"SettingsLanguage",setup($){const c=S(),{locales:n}=L();return(i,g)=>V((u(),d("select",{"onUpdate:modelValue":g[0]||(g[0]=r=>a(c).language=r)},[(u(!0),d(v,null,b(a(n),r=>(u(),d("option",{key:r.code,value:r.code,selected:a(c).language===r.code},o(r.name),9,G))),128))],512)),[[C,a(c).language]])}}),J={key:0,class:"mt-1 ms-2"},K={class:"mb-2"},Q={class:"ms-4"},W=["title","onClick"],X={class:"flex items-center mt-2"},Y={disabled:"",selected:"",value:null},ee=["value"],te=h({__name:"SettingsTranslations",setup($){const c=x.getLanguages([...F]),n=S(),i=q(null),g=w(()=>Object.values(c).filter(e=>!n.value.disabledTranslationLanguages.includes(e.code)));function r(){if(i.value){const e=new Set(n.value.disabledTranslationLanguages);e.add(i.value),n.value.disabledTranslationLanguages=[...e],i.value=null}}function _(e){const s=new Set(n.value.disabledTranslationLanguages);s.delete(e),n.value.disabledTranslationLanguages=[...s]}return(e,s)=>{const m=z;return u(),d("div",null,[p(m,{modelValue:a(n).preferences.hideTranslation,"onUpdate:modelValue":s[0]||(s[0]=l=>a(n).preferences.hideTranslation=l),label:e.$t("settings.preferences.hide_translation")},null,8,["modelValue","label"]),a(n).preferences.hideTranslation?U("",!0):(u(),d("div",J,[t("p",K,o(e.$t("settings.language.translations.hide_specific")),1),t("div",Q,[t("ul",null,[(u(!0),d(v,null,b(a(n).disabledTranslationLanguages,l=>(u(),d("li",{key:l,class:"flex items-center"},[t("div",null,o(a(x).getNativeName(l)),1),t("button",{class:"btn-text",type:"button",title:e.$t("settings.language.translations.remove"),onClick:A(k=>_(l),["prevent"])},s[2]||(s[2]=[t("span",{class:"block i-ri:close-line","aria-hidden":"true"},null,-1)]),8,W)]))),128))]),t("div",X,[V(t("select",{"onUpdate:modelValue":s[1]||(s[1]=l=>B(i)?i.value=l:null),class:"select-settings"},[t("option",Y,o(e.$t("settings.language.translations.choose_language")),1),(u(!0),d(v,null,b(a(g),l=>(u(),d("option",{key:l.code,value:l.code},o(l.nativeName),9,ee))),128))],512),[[C,a(i)]]),t("button",{class:"btn-text shrink-0",onClick:r},o(e.$t("settings.language.translations.add")),1)])])]))])}}}),ne={p6:""},se={"space-y-2":""},ae={py2:"","font-bold":"","text-xl":"",flex:"~ gap-1","items-center":""},le={mt4:""},oe={"font-bold":"","text-xl":"",flex:"~ gap-1","items-center":""},ie={py4:"",mt2:"","font-bold":"","text-xl":"",flex:"~ gap-1","items-center":""},pe=h({__name:"index",async setup($){let c,n;const{t:i,locale:g}=L(),r=([c,n]=E(()=>R(()=>import("./BkHzLzjD.js"),[],import.meta.url).then(e=>e.default)),c=await c,n(),c);H({title:()=>`${i("settings.language.label")} | ${i("nav.settings")}`});const _=w(()=>{const e=r.locales[g.value];return i("settings.language.status",[e.total,r.total,e.percentage])});return(e,s)=>{const m=Z,l=M,k=j,N=te,I=P;return u(),T(I,{"back-on-small-screen":""},{title:f(()=>[t("div",{"text-lg":"","font-bold":"",flex:"","items-center":"","gap-2":"",onClick:s[0]||(s[0]=(...D)=>e.$scrollToTop&&e.$scrollToTop(...D))},[t("span",null,o(e.$t("settings.language.label")),1)])]),default:f(()=>[t("div",ne,[t("section",se,[t("h2",ae,o(e.$t("settings.language.display_language")),1),t("div",null,o(a(_)),1),p(m,{"select-settings":""}),p(l,{href:"https://docs.elk.zone/guide/contributing",target:"_blank","hover:underline":"","text-primary":"","inline-flex":"","items-center":"","gap-1":""},{default:f(()=>[s[1]||(s[1]=t("span",{"inline-block":"","i-ri:information-line":""},null,-1)),O(" "+o(e.$t("settings.language.how_to_contribute")),1)]),_:1})]),t("section",le,[t("h2",oe,o(e.$t("settings.language.post_language")),1),("currentUser"in e?e.currentUser:a(y))?(u(),T(k,{key:0,command:"",large:"",icon:"i-ri:quill-pen-line",text:e.$t("settings.language.post_language"),description:e.$t("settings.account_settings.description"),to:`https://${("currentUser"in e?e.currentUser:a(y)).server}/settings/preferences/other`,external:"",target:"_blank"},null,8,["text","description","to"])):U("",!0)]),t("section",null,[t("h2",ie,o(e.$t("settings.language.translations.heading")),1),p(N)])])]),_:1})}}});export{pe as default};
