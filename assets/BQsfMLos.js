import{d as p,c as C,e as d,r as m,o as a,p as i,q as l,g as _,t as f,H as g,I as h,h as u,aL as y,f as v,x as k,a as S,l as $,n as x,s as H,_ as A,v as b}from"./vIUoIwJY.js";import{_ as w}from"./v1qJ5AFC.js";import{_ as B}from"./CrVpdqfN.js";import"./Dxdd2Bvb.js";import"./CziPTEgh.js";import"./DdLPqneJ.js";import"./CjFal9cD.js";import"./CGaFhSG6.js";import"./COmINJJB.js";import"./BaQPXKY5.js";const N={key:0,flex:"","flex-col":"","gap-2":""},T={flex:"","gap-2":"","text-sm":"","text-secondary":"","font-bold":""},L={"me-1":""},P=p({__name:"ConversationCard",props:{conversation:{}},setup(c){const o=C(()=>c.conversation.accounts.filter(t=>t.id!==c.conversation.lastStatus?.account.id));return(t,s)=>{const n=y,e=w;return t.conversation.lastStatus?(a(),d("article",N,[t.conversation.lastStatus?(a(),i(e,{key:0,status:t.conversation.lastStatus,actions:!1},{meta:l(()=>[_("div",T,[_("p",L,f(t.$t("conversation.with")),1),(a(!0),d(g,null,h(u(o),r=>(a(),i(n,{key:r.id,"h-5":"","w-5":"",account:r},null,8,["account"]))),128))])]),_:1},8,["status"])):m("",!0)])):m("",!0)}}}),V=p({__name:"ConversationPaginator",props:{paginator:{}},setup(c){function o(t){const s=n=>n.lastStatus?n.lastStatus.account.id===k.value?.account.id:!1;return t.filter(n=>s(n)||!n.lastStatus?.filtered?.find(e=>e.filter.filterAction==="hide"&&e.filter.context.includes("thread")))}return(t,s)=>{const n=P,e=B;return a(),i(e,{paginator:t.paginator,preprocess:o},{default:l(({item:r})=>[v(n,{conversation:r,border:"b base","py-1":""},null,8,["conversation"])]),_:1},8,["paginator"])}}}),I=p({__name:"TimelineConversations",setup(c){const o=S().v1.conversations.list();return(t,s)=>{const n=V;return a(),i(n,{paginator:u(o)},null,8,["paginator"])}}}),K=p({__name:"conversations",setup(c){const{t:o}=$();return x({title:()=>o("nav.conversations")}),(t,s)=>{const n=A,e=I,r=b;return a(),i(r,null,{title:l(()=>[v(n,{to:"/conversations","timeline-title-style":"",flex:"","items-center":"","gap-2":"",onClick:t.$scrollToTop},{default:l(()=>[s[0]||(s[0]=_("div",{"i-ri:at-line":""},null,-1)),_("span",null,f(u(o)("nav.conversations")),1)]),_:1},8,["onClick"])]),default:l(()=>[("isHydrated"in t?t.isHydrated:u(H))?(a(),i(e,{key:0})):m("",!0)]),_:1})}}});export{K as default};
