import{d as h,u as b,c as f,a as C,b as H,w as x,e as $,o as u,f as c,g as _,m as N,h as n,i as B,j as S,k as M,l as P,n as V,p as g,q as p,r as A,s as L,_ as R,t as j,v as q}from"./vIUoIwJY.js";import{_ as D}from"./BhCvzBpf.js";import{_ as E}from"./BYeVC6Pm.js";import{r as F}from"./BHjwvw4e.js";import"./CACuphk5.js";import"./CGaFhSG6.js";import"./COmINJJB.js";import"./B_I5J-1H.js";import"./C5_5OrRM.js";import"./DdLPqneJ.js";import"./CJulTqhN.js";import"./CziPTEgh.js";import"./DdYSMCsR.js";import"./DGEeLdu4.js";import"./CUkVP4aJ.js";import"./Bkkj0y5L.js";import"./zvK4brH-.js";import"./v1qJ5AFC.js";import"./Dxdd2Bvb.js";import"./CrVpdqfN.js";import"./CjFal9cD.js";import"./BaQPXKY5.js";const I=h({__name:"TimelineHome",async setup(v){let t,o;const{isSupported:r,effectiveType:e}=b(),s=f(()=>r.value&&e.value&&["slow-2g","2g","3g"].includes(e.value)),a=f(()=>s.value?10:30),m=C().v1.timelines.home.list({limit:a.value}),l=H(i=>i.user.subscribe());function w(i){return F(i,"home")}const k=([t,o]=x(()=>B().client.value.v1.followedTags.list({limit:0})),t=await t,o(),t);return(i,d)=>{const y=D,T=E;return u(),$("div",null,[c(y,{"draft-key":"home"}),d[0]||(d[0]=_("div",{h:"1px","w-auto":"","bg-border":"","mb-3":""},null,-1)),c(T,N({"followed-tags":n(k)},{paginator:n(m),stream:n(l)},{preprocess:w,context:"home"}),null,16,["followed-tags"])])}}}),ue=h({__name:"home",setup(v){const t=S(),o=M();t.path==="/signin/callback"&&o.push("/home");const{t:r}=P();return V({title:()=>r("nav.home")}),(e,s)=>{const a=R,m=I,l=q;return u(),g(l,null,{title:p(()=>[c(a,{to:"/home","timeline-title-style":"",flex:"","items-center":"","gap-2":"",onClick:e.$scrollToTop},{default:p(()=>[s[0]||(s[0]=_("div",{"i-ri:home-5-line":""},null,-1)),_("span",null,j(e.$t("nav.home")),1)]),_:1},8,["onClick"])]),default:p(()=>[("isHydrated"in e?e.isHydrated:n(L))?(u(),g(m,{key:0})):A("",!0)]),_:1})}}});export{ue as default};
