import{A as j,c as G,cl as ue,cm as Fe,cn as ke,co as Ee,aa as ee,cp as De,d as Se,aj as se,ak as Pe,cd as Re,j as Ie,a1 as Ae,cq as Ce,p as Oe,o as ce,be as xe,f as Be,q as Le,a2 as Ke,r as je,h as q,am as Me,e as Ve,g as L,Q as ze,ah as qe,m as Ue,af as Ge,ac as Ye,aV as $e,aT as We,T as Ze}from"./DsX_WIiI.js";/*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var he=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],Y=he.join(","),ge=typeof Element>"u",R=ge?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,$=!ge&&Element.prototype.getRootNode?function(o){var e;return o==null||(e=o.getRootNode)===null||e===void 0?void 0:e.call(o)}:function(o){return o?.ownerDocument},W=function o(e,t){var a;t===void 0&&(t=!0);var u=e==null||(a=e.getAttribute)===null||a===void 0?void 0:a.call(e,"inert"),s=u===""||u==="true",r=s||t&&e&&o(e.parentNode);return r},Qe=function(e){var t,a=e==null||(t=e.getAttribute)===null||t===void 0?void 0:t.call(e,"contenteditable");return a===""||a==="true"},ye=function(e,t,a){if(W(e))return[];var u=Array.prototype.slice.apply(e.querySelectorAll(Y));return t&&R.call(e,Y)&&u.unshift(e),u=u.filter(a),u},me=function o(e,t,a){for(var u=[],s=Array.from(e);s.length;){var r=s.shift();if(!W(r,!1))if(r.tagName==="SLOT"){var d=r.assignedElements(),l=d.length?d:r.children,b=o(l,!0,a);a.flatten?u.push.apply(u,b):u.push({scopeParent:r,candidates:b})}else{var N=R.call(r,Y);N&&a.filter(r)&&(t||!e.includes(r))&&u.push(r);var g=r.shadowRoot||typeof a.getShadowRoot=="function"&&a.getShadowRoot(r),m=!W(g,!1)&&(!a.shadowRootFilter||a.shadowRootFilter(r));if(g&&m){var E=o(g===!0?r.children:g.children,!0,a);a.flatten?u.push.apply(u,E):u.push({scopeParent:r,candidates:E})}else s.unshift.apply(s,r.children)}}return u},we=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},P=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||Qe(e))&&!we(e)?0:e.tabIndex},Xe=function(e,t){var a=P(e);return a<0&&t&&!we(e)?0:a},Je=function(e,t){return e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex},Te=function(e){return e.tagName==="INPUT"},He=function(e){return Te(e)&&e.type==="hidden"},_e=function(e){var t=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(a){return a.tagName==="SUMMARY"});return t},et=function(e,t){for(var a=0;a<e.length;a++)if(e[a].checked&&e[a].form===t)return e[a]},tt=function(e){if(!e.name)return!0;var t=e.form||$(e),a=function(d){return t.querySelectorAll('input[type="radio"][name="'+d+'"]')},u;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")u=a(window.CSS.escape(e.name));else try{u=a(e.name)}catch{return!1}var s=et(u,e.form);return!s||s===e},at=function(e){return Te(e)&&e.type==="radio"},rt=function(e){return at(e)&&!tt(e)},nt=function(e){var t,a=e&&$(e),u=(t=a)===null||t===void 0?void 0:t.host,s=!1;if(a&&a!==e){var r,d,l;for(s=!!((r=u)!==null&&r!==void 0&&(d=r.ownerDocument)!==null&&d!==void 0&&d.contains(u)||e!=null&&(l=e.ownerDocument)!==null&&l!==void 0&&l.contains(e));!s&&u;){var b,N,g;a=$(u),u=(b=a)===null||b===void 0?void 0:b.host,s=!!((N=u)!==null&&N!==void 0&&(g=N.ownerDocument)!==null&&g!==void 0&&g.contains(u))}}return s},le=function(e){var t=e.getBoundingClientRect(),a=t.width,u=t.height;return a===0&&u===0},it=function(e,t){var a=t.displayCheck,u=t.getShadowRoot;if(getComputedStyle(e).visibility==="hidden")return!0;var s=R.call(e,"details>summary:first-of-type"),r=s?e.parentElement:e;if(R.call(r,"details:not([open]) *"))return!0;if(!a||a==="full"||a==="legacy-full"){if(typeof u=="function"){for(var d=e;e;){var l=e.parentElement,b=$(e);if(l&&!l.shadowRoot&&u(l)===!0)return le(e);e.assignedSlot?e=e.assignedSlot:!l&&b!==e.ownerDocument?e=b.host:e=l}e=d}if(nt(e))return!e.getClientRects().length;if(a!=="legacy-full")return!0}else if(a==="non-zero-area")return le(e);return!1},ot=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var t=e.parentElement;t;){if(t.tagName==="FIELDSET"&&t.disabled){for(var a=0;a<t.children.length;a++){var u=t.children.item(a);if(u.tagName==="LEGEND")return R.call(t,"fieldset[disabled] *")?!0:!u.contains(e)}return!0}t=t.parentElement}return!1},Z=function(e,t){return!(t.disabled||W(t)||He(t)||it(t,e)||_e(t)||ot(t))},te=function(e,t){return!(rt(t)||P(t)<0||!Z(e,t))},ut=function(e){var t=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(t)||t>=0)},st=function o(e){var t=[],a=[];return e.forEach(function(u,s){var r=!!u.scopeParent,d=r?u.scopeParent:u,l=Xe(d,r),b=r?o(u.candidates):d;l===0?r?t.push.apply(t,b):t.push(d):a.push({documentOrder:s,tabIndex:l,item:u,isScope:r,content:b})}),a.sort(Je).reduce(function(u,s){return s.isScope?u.push.apply(u,s.content):u.push(s.content),u},[]).concat(t)},ct=function(e,t){t=t||{};var a;return t.getShadowRoot?a=me([e],t.includeContainer,{filter:te.bind(null,t),flatten:!1,getShadowRoot:t.getShadowRoot,shadowRootFilter:ut}):a=ye(e,t.includeContainer,te.bind(null,t)),st(a)},lt=function(e,t){t=t||{};var a;return t.getShadowRoot?a=me([e],t.includeContainer,{filter:Z.bind(null,t),flatten:!0,getShadowRoot:t.getShadowRoot}):a=ye(e,t.includeContainer,Z.bind(null,t)),a},I=function(e,t){if(t=t||{},!e)throw new Error("No node provided");return R.call(e,Y)===!1?!1:te(t,e)},dt=he.concat("iframe").join(","),_=function(e,t){if(t=t||{},!e)throw new Error("No node provided");return R.call(e,dt)===!1?!1:Z(t,e)};/*!
* focus-trap 7.6.0
* @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE
*/function ft(o,e,t){return(e=bt(e))in o?Object.defineProperty(o,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):o[e]=t,o}function de(o,e){var t=Object.keys(o);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(o);e&&(a=a.filter(function(u){return Object.getOwnPropertyDescriptor(o,u).enumerable})),t.push.apply(t,a)}return t}function fe(o){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?de(Object(t),!0).forEach(function(a){ft(o,a,t[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(t)):de(Object(t)).forEach(function(a){Object.defineProperty(o,a,Object.getOwnPropertyDescriptor(t,a))})}return o}function vt(o,e){if(typeof o!="object"||!o)return o;var t=o[Symbol.toPrimitive];if(t!==void 0){var a=t.call(o,e);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(o)}function bt(o){var e=vt(o,"string");return typeof e=="symbol"?e:e+""}var ve={activateTrap:function(e,t){if(e.length>0){var a=e[e.length-1];a!==t&&a.pause()}var u=e.indexOf(t);u===-1||e.splice(u,1),e.push(t)},deactivateTrap:function(e,t){var a=e.indexOf(t);a!==-1&&e.splice(a,1),e.length>0&&e[e.length-1].unpause()}},pt=function(e){return e.tagName&&e.tagName.toLowerCase()==="input"&&typeof e.select=="function"},ht=function(e){return e?.key==="Escape"||e?.key==="Esc"||e?.keyCode===27},M=function(e){return e?.key==="Tab"||e?.keyCode===9},gt=function(e){return M(e)&&!e.shiftKey},yt=function(e){return M(e)&&e.shiftKey},be=function(e){return setTimeout(e,0)},pe=function(e,t){var a=-1;return e.every(function(u,s){return t(u)?(a=s,!1):!0}),a},K=function(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),u=1;u<t;u++)a[u-1]=arguments[u];return typeof e=="function"?e.apply(void 0,a):e},U=function(e){return e.target.shadowRoot&&typeof e.composedPath=="function"?e.composedPath()[0]:e.target},mt=[],wt=function(e,t){var a=t?.document||document,u=t?.trapStack||mt,s=fe({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0,isKeyForward:gt,isKeyBackward:yt},t),r={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0,recentNavEvent:void 0},d,l=function(n,i,c){return n&&n[i]!==void 0?n[i]:s[c||i]},b=function(n,i){var c=typeof i?.composedPath=="function"?i.composedPath():void 0;return r.containerGroups.findIndex(function(f){var v=f.container,h=f.tabbableNodes;return v.contains(n)||c?.includes(v)||h.find(function(y){return y===n})})},N=function(n){var i=s[n];if(typeof i=="function"){for(var c=arguments.length,f=new Array(c>1?c-1:0),v=1;v<c;v++)f[v-1]=arguments[v];i=i.apply(void 0,f)}if(i===!0&&(i=void 0),!i){if(i===void 0||i===!1)return i;throw new Error("`".concat(n,"` was specified but was not a node, or did not return a node"))}var h=i;if(typeof i=="string"&&(h=a.querySelector(i),!h))throw new Error("`".concat(n,"` as selector refers to no known node"));return h},g=function(){var n=N("initialFocus");if(n===!1)return!1;if(n===void 0||!_(n,s.tabbableOptions))if(b(a.activeElement)>=0)n=a.activeElement;else{var i=r.tabbableGroups[0],c=i&&i.firstTabbableNode;n=c||N("fallbackFocus")}if(!n)throw new Error("Your focus-trap needs to have at least one focusable element");return n},m=function(){if(r.containerGroups=r.containers.map(function(n){var i=ct(n,s.tabbableOptions),c=lt(n,s.tabbableOptions),f=i.length>0?i[0]:void 0,v=i.length>0?i[i.length-1]:void 0,h=c.find(function(T){return I(T)}),y=c.slice().reverse().find(function(T){return I(T)}),F=!!i.find(function(T){return P(T)>0});return{container:n,tabbableNodes:i,focusableNodes:c,posTabIndexesFound:F,firstTabbableNode:f,lastTabbableNode:v,firstDomTabbableNode:h,lastDomTabbableNode:y,nextTabbableNode:function(S){var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,D=i.indexOf(S);return D<0?x?c.slice(c.indexOf(S)+1).find(function(B){return I(B)}):c.slice(0,c.indexOf(S)).reverse().find(function(B){return I(B)}):i[D+(x?1:-1)]}}}),r.tabbableGroups=r.containerGroups.filter(function(n){return n.tabbableNodes.length>0}),r.tabbableGroups.length<=0&&!N("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times");if(r.containerGroups.find(function(n){return n.posTabIndexesFound})&&r.containerGroups.length>1)throw new Error("At least one node with a positive tabindex was found in one of your focus-trap's multiple containers. Positive tabindexes are only supported in single-container focus-traps.")},E=function(n){var i=n.activeElement;if(i)return i.shadowRoot&&i.shadowRoot.activeElement!==null?E(i.shadowRoot):i},k=function(n){if(n!==!1&&n!==E(document)){if(!n||!n.focus){k(g());return}n.focus({preventScroll:!!s.preventScroll}),r.mostRecentlyFocusedNode=n,pt(n)&&n.select()}},V=function(n){var i=N("setReturnFocus",n);return i||(i===!1?!1:n)},A=function(n){var i=n.target,c=n.event,f=n.isBackward,v=f===void 0?!1:f;i=i||U(c),m();var h=null;if(r.tabbableGroups.length>0){var y=b(i,c),F=y>=0?r.containerGroups[y]:void 0;if(y<0)v?h=r.tabbableGroups[r.tabbableGroups.length-1].lastTabbableNode:h=r.tabbableGroups[0].firstTabbableNode;else if(v){var T=pe(r.tabbableGroups,function(J){var H=J.firstTabbableNode;return i===H});if(T<0&&(F.container===i||_(i,s.tabbableOptions)&&!I(i,s.tabbableOptions)&&!F.nextTabbableNode(i,!1))&&(T=y),T>=0){var S=T===0?r.tabbableGroups.length-1:T-1,x=r.tabbableGroups[S];h=P(i)>=0?x.lastTabbableNode:x.lastDomTabbableNode}else M(c)||(h=F.nextTabbableNode(i,!1))}else{var D=pe(r.tabbableGroups,function(J){var H=J.lastTabbableNode;return i===H});if(D<0&&(F.container===i||_(i,s.tabbableOptions)&&!I(i,s.tabbableOptions)&&!F.nextTabbableNode(i))&&(D=y),D>=0){var B=D===r.tabbableGroups.length-1?0:D+1,oe=r.tabbableGroups[B];h=P(i)>=0?oe.firstTabbableNode:oe.firstDomTabbableNode}else M(c)||(h=F.nextTabbableNode(i))}}else h=N("fallbackFocus");return h},C=function(n){var i=U(n);if(!(b(i,n)>=0)){if(K(s.clickOutsideDeactivates,n)){d.deactivate({returnFocus:s.returnFocusOnDeactivate});return}K(s.allowOutsideClick,n)||n.preventDefault()}},z=function(n){var i=U(n),c=b(i,n)>=0;if(c||i instanceof Document)c&&(r.mostRecentlyFocusedNode=i);else{n.stopImmediatePropagation();var f,v=!0;if(r.mostRecentlyFocusedNode)if(P(r.mostRecentlyFocusedNode)>0){var h=b(r.mostRecentlyFocusedNode),y=r.containerGroups[h].tabbableNodes;if(y.length>0){var F=y.findIndex(function(T){return T===r.mostRecentlyFocusedNode});F>=0&&(s.isKeyForward(r.recentNavEvent)?F+1<y.length&&(f=y[F+1],v=!1):F-1>=0&&(f=y[F-1],v=!1))}}else r.containerGroups.some(function(T){return T.tabbableNodes.some(function(S){return P(S)>0})})||(v=!1);else v=!1;v&&(f=A({target:r.mostRecentlyFocusedNode,isBackward:s.isKeyBackward(r.recentNavEvent)})),k(f||r.mostRecentlyFocusedNode||g())}r.recentNavEvent=void 0},w=function(n){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;r.recentNavEvent=n;var c=A({event:n,isBackward:i});c&&(M(n)&&n.preventDefault(),k(c))},Q=function(n){(s.isKeyForward(n)||s.isKeyBackward(n))&&w(n,s.isKeyBackward(n))},ae=function(n){ht(n)&&K(s.escapeDeactivates,n)!==!1&&(n.preventDefault(),d.deactivate())},re=function(n){var i=U(n);b(i,n)>=0||K(s.clickOutsideDeactivates,n)||K(s.allowOutsideClick,n)||(n.preventDefault(),n.stopImmediatePropagation())},ne=function(){if(r.active)return ve.activateTrap(u,d),r.delayInitialFocusTimer=s.delayInitialFocus?be(function(){k(g())}):k(g()),a.addEventListener("focusin",z,!0),a.addEventListener("mousedown",C,{capture:!0,passive:!1}),a.addEventListener("touchstart",C,{capture:!0,passive:!1}),a.addEventListener("click",re,{capture:!0,passive:!1}),a.addEventListener("keydown",Q,{capture:!0,passive:!1}),a.addEventListener("keydown",ae),d},ie=function(){if(r.active)return a.removeEventListener("focusin",z,!0),a.removeEventListener("mousedown",C,!0),a.removeEventListener("touchstart",C,!0),a.removeEventListener("click",re,!0),a.removeEventListener("keydown",Q,!0),a.removeEventListener("keydown",ae),d},Ne=function(n){var i=n.some(function(c){var f=Array.from(c.removedNodes);return f.some(function(v){return v===r.mostRecentlyFocusedNode})});i&&k(g())},X=typeof window<"u"&&"MutationObserver"in window?new MutationObserver(Ne):void 0,O=function(){X&&(X.disconnect(),r.active&&!r.paused&&r.containers.map(function(n){X.observe(n,{subtree:!0,childList:!0})}))};return d={get active(){return r.active},get paused(){return r.paused},activate:function(n){if(r.active)return this;var i=l(n,"onActivate"),c=l(n,"onPostActivate"),f=l(n,"checkCanFocusTrap");f||m(),r.active=!0,r.paused=!1,r.nodeFocusedBeforeActivation=a.activeElement,i?.();var v=function(){f&&m(),ne(),O(),c?.()};return f?(f(r.containers.concat()).then(v,v),this):(v(),this)},deactivate:function(n){if(!r.active)return this;var i=fe({onDeactivate:s.onDeactivate,onPostDeactivate:s.onPostDeactivate,checkCanReturnFocus:s.checkCanReturnFocus},n);clearTimeout(r.delayInitialFocusTimer),r.delayInitialFocusTimer=void 0,ie(),r.active=!1,r.paused=!1,O(),ve.deactivateTrap(u,d);var c=l(i,"onDeactivate"),f=l(i,"onPostDeactivate"),v=l(i,"checkCanReturnFocus"),h=l(i,"returnFocus","returnFocusOnDeactivate");c?.();var y=function(){be(function(){h&&k(V(r.nodeFocusedBeforeActivation)),f?.()})};return h&&v?(v(V(r.nodeFocusedBeforeActivation)).then(y,y),this):(y(),this)},pause:function(n){if(r.paused||!r.active)return this;var i=l(n,"onPause"),c=l(n,"onPostPause");return r.paused=!0,i?.(),ie(),O(),c?.(),this},unpause:function(n){if(!r.paused||!r.active)return this;var i=l(n,"onUnpause"),c=l(n,"onPostUnpause");return r.paused=!1,i?.(),m(),ne(),O(),c?.(),this},updateContainerElements:function(n){var i=[].concat(n).filter(Boolean);return r.containers=i.map(function(c){return typeof c=="string"?a.querySelector(c):c}),r.active&&m(),O(),this}},d.updateContainerElements(e),d};function Tt(o,e={}){let t;const{immediate:a,...u}=e,s=j(!1),r=j(!1),d=m=>t&&t.activate(m),l=m=>t&&t.deactivate(m),b=()=>{t&&(t.pause(),r.value=!0)},N=()=>{t&&(t.unpause(),r.value=!1)},g=G(()=>{const m=ue(o);return Fe(m).map(E=>{const k=ue(E);return typeof k=="string"?k:ke(k)}).filter(Ee)});return ee(g,m=>{m.length&&(t=wt(m,{...u,onActivate(){s.value=!0,e.onActivate&&e.onActivate()},onDeactivate(){s.value=!1,e.onDeactivate&&e.onDeactivate()}}),a&&d())},{flush:"post"}),De(()=>l()),{hasFocus:s,isPaused:r,activate:d,deactivate:l,pause:b,unpause:N}}const Nt=["aria-labelledby"],Ft={class:"p-safe-area",absolute:"","inset-0":"","z-1":"","pointer-events-none":"","opacity-100":"",flex:""},kt={"flex-1":"",flex:"","items-center":"","justify-center":"","p-4":""},Et=Se({inheritAttrs:!1,__name:"ModalDialog",props:se({zIndex:{default:100},closeByMask:{type:Boolean,default:!0},useVIf:{type:Boolean,default:!0},keepAlive:{type:Boolean,default:!1},dialogLabelledBy:{}},{modelValue:{type:Boolean,required:!0},modelModifiers:{}}),emits:se(["close"],["update:modelValue"]),setup(o,{expose:e,emit:t}){const a=t,u=Pe(o,"modelValue"),s=Re(),r=Ie(),d=Ae(),l=j(),b=j(),{activate:N}=Tt(b,{immediate:!1,allowOutsideClick:!0,clickOutsideDeactivates:!0,escapeDeactivates:!0,preventScroll:!0,returnFocusOnDeactivate:!0});e({elDialogRoot:b,elDialogMain:l});function g(){u.value&&(u.value=!1,a("close"))}function m(){o.closeByMask&&g()}const E=j(r.path);ee(u,w=>{w&&(E.value=r.path)});const k=G(()=>s.value||E.value!==r.path);ee(k,w=>{o.keepAlive||w&&g()});const V=G(()=>o.useVIf?u.value:!0),A=G(()=>o.useVIf?!0:u.value);function C(w){return w}function z(){A.value&&We().then(()=>N())}return Ce("keydown",w=>{u.value&&w.key==="Escape"&&(g(),w.preventDefault())}),(w,Q)=>(ce(),Oe(xe,{to:"body"},[Be($e,{name:"dialog-visible",onTransitionend:z},{default:Le(()=>[q(V)?Ke((ce(),Ve("div",{key:0,ref_key:"elDialogRoot",ref:b,"aria-modal":"true","aria-labelledby":w.dialogLabelledBy,style:Ye({"z-index":w.zIndex}),fixed:"","inset-0":"","of-y-auto":"","scrollbar-hide":"","overscroll-none":""},[L("div",{class:ze(["dialog-mask",{"backdrop-blur-sm":!("getPreferences"in w?w.getPreferences:q(qe))(q(d),"optimizeForLowPerformanceDevice")}]),absolute:"","inset-0":"","z-0":"","bg-transparent":"","opacity-100":"","backdrop-filter":"","touch-none":""},null,2),L("div",{class:"dialog-mask",absolute:"","inset-0":"","z-0":"","bg-black":"","opacity-48":"","touch-none":"",h:"[calc(100%+0.5px)]",onClick:m}),L("div",Ft,[L("div",kt,[L("div",Ue({ref_key:"elDialogMain",ref:l,class:"dialog-main rounded shadow-lg pointer-events-auto isolate bg-base border-base border-1px border-solid w-full max-h-full of-y-auto overscroll-contain touch-pan-y touch-pan-x"},w.$attrs),[Ge(w.$slots,"default",{},void 0,!0)],16)])])],12,Nt)),[[Me,q(A)]]):je("",!0)]),_:3})]))}}),St=Ze(Et,[["__scopeId","data-v-e0165718"]]);export{St as _};
