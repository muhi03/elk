import{d as C,j as V,y as B,z as L,A as O,c as g,B as h,C as F,D as H,E as I,F as b,e as v,o as a,g as e,p as y,r as k,h as o,q as n,G as U,t as i,H as j,I as q,_ as D,f as m,J as K,K as P,L as R,l as W,n as M,M as S,v as z}from"./DsX_WIiI.js";import{_ as G}from"./C6eokYE3.js";import"./BvzeSaDt.js";import"./CV_MCSxE.js";import"./CbHt1iDe.js";import"./CMW9HLv_.js";import"./Cm-GyKAJ.js";import"./Bcq4IE-j.js";import"./BlWcp1Wq.js";import"./CziPTEgh.js";import"./DdYSMCsR.js";import"./CGdQswpo.js";import"./CRBAsHgp.js";import"./Bk2deyDc.js";import"./zmBmm41-.js";const J={flex:"~ col","pb-6":""},Q={"inline-flex":"","justify-end":"","h-8":""},X={"btn-text":"",flex:"inline center"},Y={flex:"~ col"},Z={flex:"~ gap-1","items-center":""},tt={key:0,"text-secondary":"","text-sm":""},et={"text-secondary":""},ot=C({__name:"PublishWidgetFull.client",setup(T){const p=V(),{formatNumber:l}=B(),c=L(),r=O("home"),u=g(()=>Object.keys(h.value)),s=g(()=>u.value.filter(t=>t!==r.value&&!F(h.value[t])).map(t=>[t,h.value[t]]));H(()=>{r.value=p.query.draft?.toString()||"home"}),I(()=>{R()});function d(t){return Array.isArray(t)?t[0]:t}return(t,x)=>{const w=b("i18n-t"),N=D,$=b("VDropdown"),A=G;return a(),v("div",J,[e("div",Q,[o(s).length?(a(),y($,{key:0,placement:"bottom-end"},{popper:n(({hide:E})=>[e("div",Y,[(a(!0),v(j,null,q(o(s),([_,f])=>(a(),y(N,{key:_,border:"b base","text-left":"",py2:"",px4:"","hover:bg-active":"",replace:!0,to:`/compose?draft=${encodeURIComponent(_)}`,onClick:st=>E()},{default:n(()=>[e("div",null,[e("div",Z,[m(w,{keypath:"compose.draft_title"},{default:n(()=>[e("code",null,i(_),1)]),_:2},1024),d(f).lastUpdated?(a(),v("span",tt," · "+i(o(K)(new Date(d(f).lastUpdated),o(c))),1)):k("",!0)]),e("div",et,i(("htmlToText"in t?t.htmlToText:o(P))(d(f).params.status).slice(0,50)),1)])]),_:2},1032,["to","onClick"]))),128))])]),default:n(()=>[e("button",X,[U(i(t.$t("compose.drafts",o(s).length,{named:{v:o(l)(o(s).length)}}))+"  ",1),x[0]||(x[0]=e("div",{"aria-hidden":"true","i-ri:arrow-down-s-line":""},null,-1))])]),_:1})):k("",!0)]),e("div",null,[m(A,{expanded:"",class:"min-h-100!","draft-key":o(r)},null,8,["draft-key"])])])}}}),nt=S(ot),gt=C({__name:"compose",setup(T){const{t:p}=W();return M({title:()=>p("nav.compose")}),(l,c)=>{const r=D,u=nt,s=z;return a(),y(s,null,{title:n(()=>[m(r,{to:"/compose","timeline-title-style":"",flex:"","items-center":"","gap-2":"",onClick:l.$scrollToTop},{default:n(()=>[c[0]||(c[0]=e("div",{"i-ri:quill-pen-line":""},null,-1)),e("span",null,i(l.$t("nav.compose")),1)]),_:1},8,["onClick"])]),default:n(()=>[m(u)]),_:1})}}});export{gt as default};
